{"version":3,"file":"static/webpack/static/development/pages/addLocation.js.81ffa89cba397e8386b3.hot-update.js","sources":["webpack:///./components/CreateLocation.js"],"sourcesContent":["import React, {Component} from 'react';\nimport {Mutation} from 'react-apollo';\nimport gql from 'graphql-tag';\nimport Router from 'next/router';\nimport Form from './styles/Form';\nimport Error from './ErrorMessage';\n\nconst CREATE_LOCATION_MUTATION = gql `\n    mutation CREATE_LOCATION_MUTATION(\n        $country: String!\n        $city: String!\n        $latitude: Float!\n        $longitude: Float!\n    ) {\n        createLocation(\n            country: $country\n            city: $city\n            latitude: $latitude\n            longitude: $longitude\n        ) {\n            id\n        }\n    }\n`;\n\nclass CreateLocation extends Component {\n    state = {\n        country: '',\n        city: '',\n        latitude: 0,\n        longitude: 0\n    }\n\n    handleChange = (e) => {\n        const {name, type, value} = e.target;\n        const val = type === 'number'\n            ? parseFloat(value)\n            : value;\n        console.log({name, type, value})\n        this.setState({[name]: val})\n        console.log(e.target.value)\n    }\n\n    render() {\n        return (\n            <Mutation mutation={CREATE_LOCATION_MUTATION} variables={this.state}>\n                {(createLocation, {loading, error}) => (\n                    <Form\n                        onSubmit={async e => {\n                        e.preventDefault();\n                        const res = await createLocation();\n                        console.log(res);\n                        Router.push({\n                            pathname: '/location',\n                            query: {\n                                id: res.data.createLocation.id\n                            }\n                        })\n                    }}>\n                        <Error error={error}/>\n                        <fieldset disabled={loading} aria-busy={loading}>\n                            <label htmlFor=\"title\">\n                                Country\n                                <input\n                                    type=\"text\"\n                                    id=\"country\"\n                                    name=\"country\"\n                                    placeholder=\"Country\"\n                                    required\n                                    value={this.state.country}\n                                    onChange={this.handleChange}/>\n                            </label>\n                            <label htmlFor=\"price\">\n                                Price\n                                <input\n                                    type=\"text\"\n                                    id=\"city\"\n                                    name=\"city\"\n                                    placeholder=\"City\"\n                                    required\n                                    value={this.state.city}\n                                    onChange={this.handleChange}/>\n                            </label>\n                            <label htmlFor=\"description\">\n                                Description\n                                <textarea\n                                    type=\"number\"\n                                    id=\"description\"\n                                    name=\"description\"\n                                    placeholder=\"Enter a description\"\n                                    required\n                                    value={this.state.description}\n                                    onChange={this.handleChange}/>\n                            </label>\n                            <button type=\"submit\">Submit</button>\n                        </fieldset>\n                    </Form>\n                )}\n            </Mutation>\n\n        );\n    }\n}\n\nexport default CreateLocation;\nexport { CREATE_LOCATION_MUTATION };"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAiBA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;;;;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AACA;AACA;AACA;AACA;AACA;AADA;AAFA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAhDA;AAuDA;;;;AA5EA;AACA;AA8EA;;;;;A","sourceRoot":""}